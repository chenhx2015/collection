// ç‰ˆæœ¬å· ğŸŒ¿ğŸŒ¿ğŸŒ¿
// è¾“å…¥ä¸€ç»„ç‰ˆæœ¬å·ï¼Œè¾“å‡ºä»å¤§åˆ°å°çš„æ’åº
// è¾“å…¥ï¼š ['2.1.0.1', '0.402.1', '10.2.1', '5.1.2', '1.0.4.5']
// è¾“å‡ºï¼š ['10.2.1', '5.1.2', '2.1.0.1', '1.0.4.5', '0.402.1']

function versionSort(arr) {
  return arr.sort((a, b) => {
    let i = 0;
    const arr1 = a.split(".");
    const arr2 = b.split(".");
    while (true) {
      // å–å‡ºç›¸åŒä½ç½®çš„æ•°å­—
      const s1 = arr1[i];
      const s2 = arr2[i];
      i++;
      // è‹¥s1 æˆ– s2 ä¸å­˜åœ¨ï¼Œè¯´æ˜ç›¸åŒçš„ä½ç½®å·²æ¯”è¾ƒå®Œæˆï¼Œæ¥ä¸‹æ¥æ¯”è¾ƒarr1 ä¸ arr2çš„é•¿åº¦ï¼Œé•¿çš„ç‰ˆæœ¬å·å¤§
      if (s1 === undefined || s2 === undefined) {
        return arr2.length - arr1.length;
      }
      if (s1 === s2) continue;
      // æ¯”è¾ƒç›¸åŒä½ç½®çš„æ•°å­—å¤§å°
      return s2 - s1; // ä»å¤§åˆ°å°
    }
  });
}

let arr = ['2.1.0.1', '0.402.1', '10.2.1', '5.1.2', '1.0.4.5']
console.log('versionSort', versionSort(arr));
// [ '10.2.1', '5.1.2', '2.1.0.1', '1.0.4.5', '0.402.1' ]